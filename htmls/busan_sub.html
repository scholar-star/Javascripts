<!DOCTYPE html>
<html>
    <head>
        <title>근처 지하철역 찾기</title>
        <meta charset="utf-8">
    </head>
    <body>
        <h1>현재 위치의 구와 동을 입력하세요.</h1>
        <hr>
        <form>
            부산광역시 
            <input type="text" name="distinct" id="distinct" placeholder="구/군">
            <input type="text" name="unit" id="unit" placeholder="동/면">
            <button onclick="getOn()" type="submit">제출</button>
            <!--button으로 form에 대한 제출 가능(type submit)-->
        </form>
        <table id="stations"></table>
        <script>
            function getOn() {
                var xhr = new XMLHttpRequest();
                xhr.addEventListener("readystatechange", function() {
                    if(this.readyState === 4) {
                        console.log(this.responseText);
                    }
                });
                const params = new URLSearchParams();
                params.append('distinct', document.getElementById("distinct").value);
                params.append('unit', document.getElementById("unit").value);
                console.log(params.toString());
                xhr.open("GET", "http://localhost:3000/subway?"+params.toString());
                xhr.send();
            }
        </script>
    </body>
</html>